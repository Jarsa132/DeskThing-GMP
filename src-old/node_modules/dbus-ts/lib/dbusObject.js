"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DBusObject = void 0;
const introspect_1 = require("./utils/introspect");
class DBusObject {
    constructor(name, service) {
        this.name = name;
        this.service = service;
    }
    async introspect() {
        [this.name, this._proxy, this._nodes] = await (0, introspect_1.introspectBus)(this);
        return this;
    }
    as(name) {
        if (typeof this._proxy[name] === 'undefined') {
            throw new Error(`Object ${this.name} doesn't implement interface ${name}`);
        }
        return this._proxy[name];
    }
    interfaces() {
        let out = [];
        for (let k in this._proxy) {
            if (this._proxy.hasOwnProperty(k))
                out.push(k);
        }
        return out;
    }
    nodes() {
        return this._nodes;
    }
}
exports.DBusObject = DBusObject;
//# sourceMappingURL=dbusObject.js.map